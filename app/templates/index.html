{%- extends "_base.html" %}
{% block content -%}
<h1>Welcome to /vg/station's statistics viewer!</h1>
<div id = 'container-front' class = 'centerpadded-small'>
  <div class = 'floatcontainer'>
    <p>Cool stuff to note:</p>
    <div class = 'floatleft'>
        <p class = 'indented'>Number of matches logged: {{matchcount}}</p>
        <p class = 'indented'>Number of nukes set off: {{nukedcount}}</p>
        <p class = 'indented'>Explosions per match: {{'%0.2f' % explosionratio|float}}</p>
        <p class = 'indented'>Deaths per match: {{'%0.2f' % deathratio|float}}</p>
    </div>
    <div class = 'floatleft'>
        <p class><b>Map play percentage:</b></p>
        <p class = 'indented'>└─Boxstation: {{'%0.2f' % box|float}}%</p>
        <p class = 'indented'>└─Metastation: {{'%0.2f' % meta|float}}%</p>
        <p class = 'indented'>└─Defficiency: {{'%0.2f' % deff|float}}%</p>
    </div>
  </div>
  <hr>
    <p class = 'centertext'>Everything here is very much a work in progress. As such, match history may be wiped at any time.</p>
    <div id = 'promote-github'>
      <p>Found a bug? Have a feature request?</p>
      <a href = 'https://github.com/gbasood/vgstation-statistics-viewer/issues'>Visit the GitHub repo!</a></p>
    </div>
    <div class = 'centertext' style = 'font-size: 80%'>By the way if you have any ideas for grafix to throw around this plain frontpage or the bar up top, let me know over on GitHub as well</div>
    <p class = 'centertext' style = 'margin-bottom: 0'>Last match:</p>
    {%- if lastmatch -%}
    <div id = 'matches-shortlist'>
      <a class = 'match singular block' href='/match/{{lastmatch.id}}'>
          <img src='{{modethumb(lastmatch.modes_string)}}'/>
      {%- if lastmatch.is_mixed() -%}
          <p id ='match-title'>Mixed</p>
      {%- else -%}
          <p id = 'match-title'>{{lastmatch.modes_string}}</p>
      {%- endif -%}
          <p class = 'bigger-font'>{{lastmatch.mapname}}</p>
          <p><strong>Crew Score</strong> {{lastmatch.crewscore}}</p>
          <p><strong>Deaths</strong> {{lastmatch.player_deaths().count()}}</p>
      </a>
    </div>
    {%- endif -%}
</div>
{%- endblock -%}
